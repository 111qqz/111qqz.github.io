<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="111qqz的小窝"><meta property="og:type" content="article"><meta property="og:image" content="https://111qqz.github.io/img/2.png"><meta property="twitter:image" content="https://111qqz.github.io/img/2.png"><meta name=title content="I - Fire Game  (两个点开始的bfs)"><meta property="og:title" content="I - Fire Game  (两个点开始的bfs)"><meta property="twitter:title" content="I - Fire Game  (两个点开始的bfs)"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta property="twitter:card" content="summary"><meta name=keyword content="ACM,111qqz,商汤科技,hust,华中科技大学"><link rel="shortcut icon" href=/img/favicon.ico><title>I - Fire Game (两个点开始的bfs)-111qqz的小窝</title><link rel=canonical href=/2015/07/i-firegamebfs/><link rel=stylesheet href=/css/iDisqus.min.css><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hux-blog.min.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/zanshang.css><link href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css rel=stylesheet type=text/css><script src=/js/jquery.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/hux-blog.min.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/docco.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=stylesheet href=/css/hux-blog.min.css><link rel=stylesheet href=/css/hux-blog.min-custom.css><script data-ad-client=ca-pub-2010211964550865 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=/>111qqz的小窝</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>Home</a></li><li><a href=/categories/acm/>ACM-ICPC</a></li><li><a href=/categories/deep-learning/>深度学习</a></li><li><a href=/categories/mooc/>公开课</a></li><li><a href=/categories/%e5%85%b6%e4%bb%96/>其他</a></li><li><a href=/top/about/>ABOUT</a></li><li><a href=/search>SEARCH <img src=/img/search.png height=15 style=cursor:pointer alt=Search></a></li></ul></div></div></div></nav><script>var $body=document.body;var $toggle=document.querySelector('.navbar-toggle');var $navbar=document.querySelector('#huxblog_navbar');var $collapse=document.querySelector('.navbar-collapse');$toggle.addEventListener('click',handleMagic)
function handleMagic(e){if($navbar.className.indexOf('in')>0){$navbar.className=" ";setTimeout(function(){if($navbar.className.indexOf('in')<0){$collapse.style.height="0px"}},400)}else{$collapse.style.height="auto"
$navbar.className+=" in";}}</script><style type=text/css>header.intro-header{background-image:url(/img/2.png)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags><a class=tag href=/tags/bfs title=bfs>bfs</a></div><h1>I - Fire Game (两个点开始的bfs)</h1><h2 class=subheading></h2><span class=meta>Posted by
111qqz
on
Monday, July 27, 2015
<span id=/2015/07/i-firegamebfs/ class="leancloud_visitors meta_data_item" data-flag-title><span class=post-meta-item-icon><span class="octicon octicon-eye"></span></span><i class="fa fa-eye"></i><span class=old-visitors-count style=display:none></span><span class=leancloud-visitors-count></span></span><script src=https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js></script><script>AV.initialize("UzhnsgbPvx1RFb2kNXUHpPtf-gzGzoHsz","OXOvoYGuwMv70Os5GOgaGEWT");</script><script type=text/javascript>function showTime(Counter){var query=new AV.Query(Counter);var entries=[];var $visitors=$(".leancloud_visitors");console.log("aaa")
$visitors.each(function(){entries.push($(this).attr("id").trim());});query.containedIn('url',entries);query.find().done(function(results){var COUNT_CONTAINER_REF='.leancloud-visitors-count';var OLD_COUNT_CONTAINER_REF='.old-visitors-count';for(var i=0;i<results.length;i++){var item=results[i];var url=item.get('url');var time=item.get('time');var element=document.getElementById(url);$(element).find(COUNT_CONTAINER_REF).text(time);}
for(var i=0;i<entries.length;i++){var url=entries[i];var element=document.getElementById(url);var countSpan=$(element).find(COUNT_CONTAINER_REF);if(countSpan.text()==''){var oldCountSpan=$(element).find(OLD_COUNT_CONTAINER_REF).text();if(oldCountSpan!=''){countSpan.text(0+parseInt(oldCountSpan));}else{countSpan.text(0);}}}}).fail(function(object,error){console.log("Error: "+error.code+" "+error.message);});}
function addCount(Counter){var $visitors=$(".leancloud_visitors");var url=$visitors.attr('id').trim();var title=$visitors.attr('data-flag-title').trim();var query=new AV.Query(Counter);con
query.equalTo("url",url);query.find({success:function(results){if(results.length>0){var counter=results[0];counter.fetchWhenSave(true);counter.increment("time");counter.save(null,{success:function(counter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(counter.get('time'));},error:function(counter,error){console.log('Failed to save Visitor num, with error message: '+error.message);}});}else{var newcounter=new Counter();var acl=new AV.ACL();acl.setPublicReadAccess(true);acl.setPublicWriteAccess(true);newcounter.setACL(acl);newcounter.set("title",title);newcounter.set("url",url);var OLD_COUNT_CONTAINER_REF='.old-visitors-count';var $element=$(document.getElementById(url));var oldCountSpan=$element.find(OLD_COUNT_CONTAINER_REF).text();if(oldCountSpan!=''){newcounter.set("time",parseInt(oldCountSpan)+1);}else{newcounter.set("time",1);}
newcounter.save(null,{success:function(newcounter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(newcounter.get('time'));},error:function(newcounter,error){console.log('Failed to create');}});}},error:function(error){console.log('Error:'+error.code+" "+error.message);}});}
$(function(){var Counter=AV.Object.extend("Counter");console.log("miao miao miao")
if($('.leancloud_visitors').length==1){addCount(Counter);}else{showTime(Counter);}});</script></span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><header><h2>TOC</h2></header><nav id=TableOfContents><ol><li><ol><li><a href=#heading></a></li><li><a href=#heading-1></a></li></ol></li></ol></nav><p><a href="http://acm.hust.edu.cn/vjudge/contest/view.action?cid=83084#problem/I">http://acm.hust.edu.cn/vjudge/contest/view.action?cid=83084#problem/I</a></p><p>I - Fire Game</p><p>**Time Limit:**1000MS **Memory Limit:**32768KB <strong>64bit IO Format:</strong>%I64d & %I64u</p><p>Submit <a href="http://acm.hust.edu.cn/vjudge/contest/view.action?cid=83084#status//I/0">Status</a></p><p>Description</p><p>Fat brother and Maze are playing a kind of special (hentai) game on an N*M board (N rows, M columns). At the beginning, each grid of this board is consisting of grass or just empty and then they start to fire all the grass. Firstly they choose two grids which are consisting of grass and set fire. As we all know, the fire can spread among the grass. If the grid (x, y) is firing at time t, the grid which is adjacent to this grid will fire at time t+1 which refers to the grid (x+1, y), (x-1, y), (x, y+1), (x, y-1). This process ends when no new grid get fire. If then all the grid which are consisting of grass is get fired, Fat brother and Maze will stand in the middle of the grid and playing a MORE special (hentai) game. (Maybe it's the OOXX game which decrypted in the last problem, who knows.)</p><p>You can assume that the grass in the board would never burn out and the empty grid would never get fire.</p><p>Note that the two grids they choose can be the same.</p><p>Input</p><p>The first line of the date is an integer T, which is the number of the text cases.</p><p>Then T cases follow, each case contains two integers N and M indicate the size of the board. Then goes N line, each line with M character shows the board. &ldquo;#&rdquo; Indicates the grass. You can assume that there is at least one grid which is consisting of grass in the board.</p><p>1 &lt;= T &lt;=100, 1 &lt;= n &lt;=10, 1 &lt;= m &lt;=10</p><p>Output</p><p>For each case, output the case number first, if they can play the MORE special (hentai) game (fire all the grass), output the minimal time they need to wait after they set fire, otherwise just output -1. See the sample input and output for more details.</p><p>Sample Input</p><p>4 3 3</p><p>.#.</p><h3 id=heading></h3><p>.#.</p><p>3 3</p><p>.#.</p><p>#.#</p><p>.#.</p><p>3 3</p><p>&mldr;</p><p>#.#</p><p>&mldr;</p><p>3 3</p><h3 id=heading-1></h3><p>..#</p><p>#.#</p><p>Sample Output</p><p>Case 1: 1</p><p>Case 2: -1</p><p>Case 3: 0</p><p>Case 4: 2</p><p>其实一开始是没什么思路的&mldr;.因为要从两个点开始,太弱,没做过这样的.</p><p>然后我看了下数据,如果枚举着火的起点 10<em>10</em>10<em>10</em>100 10^6,再*bfs的时间复杂度&mldr;&mldr;.</p><p>不过这是考虑所有点都是草的情况下,而且实际上枚举的时候两个点是无序的,只需要枚举一半就行&mldr;</p><p>虽然心里没什么底,我抱着写一发交上去试试tle掉又不会怀孕的心态写了下&mldr;.</p><p>写的时候有两个地方卡了一下</p><p>一个是我不知道怎么表示两个点是同时烧的</p><p>bfs的时候万一写成了一个点都烧完,另一个点才开始烧,这肯定是错误的.</p><p>然后脑子里隐约记得什么控制步数blablabla,但是记得不清&mldr;.</p><p>然后再一想,不用啊,两个点开始烧,我就把两个点初始化为0不就表示两个点开始烧了?</p><p>第二个地方小卡了一下,如果烧光,那答案是哪个点?</p><p>换句话说,哪个点的代价是最大的</p><p>显然是最后的那个点啊2333</p><p>然后写完了,交,竟然他妈过了&mldr;.</p><p>喜极而泣!</p><p>好开心!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++> 
 

    
    <span style=color:#75715e>/*************************************************************************
</span><span style=color:#75715e>    	&gt; File Name: code/2015summer/searching/I.cpp
</span><span style=color:#75715e>    	&gt; Author: 111qqz
</span><span style=color:#75715e>    	&gt; Email: rkz2013@126.com 
</span><span style=color:#75715e>    	&gt; Created Time: 2015年07月27日 星期一 18时25分27秒
</span><span style=color:#75715e>     ************************************************************************/</span>
    
    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;iostream&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;iomanip&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;cstdio&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;algorithm&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;cmath&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;cstring&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;string&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;map&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;set&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;queue&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;vector&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>include</span><span style=color:#75715e>&lt;stack&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>define y0 abc111qqz</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>define y1 hust111qqz</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>define yn hez111qqz</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>define j1 cute111qqz</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>define tm crazy111qqz</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#75715e>#</span><span style=color:#75715e>define lr dying111qqz</span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>using</span> <span style=color:#66d9ef>namespace</span> std;
    <span style=color:#75715e>#</span><span style=color:#75715e>define REP(i, n) for (int i=0;i&lt;int(n);++i)  </span><span style=color:#75715e>
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> LL;
    <span style=color:#66d9ef>typedef</span> <span style=color:#66d9ef>unsigned</span> <span style=color:#66d9ef>long</span> <span style=color:#66d9ef>long</span> ULL;
    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> N<span style=color:#f92672>=</span><span style=color:#ae81ff>1E2</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>;
    <span style=color:#66d9ef>const</span> <span style=color:#66d9ef>int</span> inf <span style=color:#f92672>=</span> <span style=color:#ae81ff>0x7fffffff</span>;
    <span style=color:#66d9ef>int</span> x[N],y[N];
    <span style=color:#66d9ef>int</span> cnt;
    <span style=color:#66d9ef>int</span> m,n;
    <span style=color:#66d9ef>char</span> maze[<span style=color:#ae81ff>11</span>][<span style=color:#ae81ff>11</span>];
    <span style=color:#66d9ef>int</span> d[<span style=color:#ae81ff>11</span>][<span style=color:#ae81ff>11</span>];
    <span style=color:#66d9ef>int</span> dx[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>=</span>{<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>1</span>};
    <span style=color:#66d9ef>int</span> dy[<span style=color:#ae81ff>4</span>]<span style=color:#f92672>=</span>{<span style=color:#ae81ff>1</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>};
    <span style=color:#66d9ef>int</span> k;
    
    <span style=color:#66d9ef>bool</span> <span style=color:#a6e22e>ok</span> (<span style=color:#66d9ef>int</span> x,<span style=color:#66d9ef>int</span> y)
    {
        <span style=color:#66d9ef>if</span> (x<span style=color:#f92672>&gt;</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&amp;</span><span style=color:#f92672>&amp;</span>x<span style=color:#f92672>&lt;</span>n<span style=color:#f92672>&amp;</span><span style=color:#f92672>&amp;</span>y<span style=color:#f92672>&gt;</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span><span style=color:#f92672>&amp;</span><span style=color:#f92672>&amp;</span>y<span style=color:#f92672>&lt;</span>m<span style=color:#f92672>&amp;</span><span style=color:#f92672>&amp;</span>maze[x][y]<span style=color:#f92672>=</span><span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#</span><span style=color:#e6db74>&#39;</span><span style=color:#f92672>&amp;</span><span style=color:#f92672>&amp;</span>d[x][y]<span style=color:#f92672>=</span><span style=color:#f92672>=</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>)
    	  <span style=color:#66d9ef>return</span> true;
        <span style=color:#66d9ef>return</span> false;
    }
    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>bfs</span>(<span style=color:#66d9ef>int</span> x1,<span style=color:#66d9ef>int</span> y1,<span style=color:#66d9ef>int</span> x2,<span style=color:#66d9ef>int</span> y2)
    {
        memset(d,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,<span style=color:#66d9ef>sizeof</span>(d));
        queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>x;
        queue<span style=color:#f92672>&lt;</span><span style=color:#66d9ef>int</span><span style=color:#f92672>&gt;</span>y;
        x.push(x1);
        x.push(x2);
        y.push(y1);
        y.push(y2);
        d[x1][y1]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
        d[x2][y2]<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
        cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
        <span style=color:#66d9ef>while</span> (<span style=color:#f92672>!</span>x.empty()<span style=color:#f92672>&amp;</span><span style=color:#f92672>&amp;</span><span style=color:#f92672>!</span>y.empty())
        {
    	  <span style=color:#66d9ef>int</span> px <span style=color:#f92672>=</span> x.front();x.pop();
    	  <span style=color:#66d9ef>int</span> py <span style=color:#f92672>=</span> y.front();y.pop();
    <span style=color:#75715e>//	  cout&lt;&lt;&#34;px:&#34;&lt;&lt;px&lt;&lt;&#34; py:&#34;&lt;&lt;py&lt;&lt;endl;
</span><span style=color:#75715e></span>    	  <span style=color:#66d9ef>int</span> tx,ty;
    	  <span style=color:#66d9ef>for</span> ( <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span> ; i<span style=color:#f92672>+</span><span style=color:#f92672>+</span> )
    	  {
    		   <span style=color:#66d9ef>int</span>  nx <span style=color:#f92672>=</span> px <span style=color:#f92672>+</span> dx[i];
    		   <span style=color:#66d9ef>int</span>  ny <span style=color:#f92672>=</span> py <span style=color:#f92672>+</span> dy[i];
    		<span style=color:#66d9ef>if</span> (ok(nx,ny))
    		{
    		    d[nx][ny]<span style=color:#f92672>=</span>d[px][py]<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>;
    		    x.push(nx);
    		    y.push(ny);
    		    cnt<span style=color:#f92672>+</span><span style=color:#f92672>+</span>;
    		    tx <span style=color:#f92672>=</span> nx;
    		    ty <span style=color:#f92672>=</span> ny;
    		}
    	  }
    	  <span style=color:#66d9ef>if</span> (cnt<span style=color:#f92672>&gt;</span><span style=color:#f92672>=</span>k)
    	  {
    		<span style=color:#66d9ef>return</span>  d[tx][ty]; <span style=color:#75715e>//最后一次烧到的点一定是最远的点
</span><span style=color:#75715e></span>    	  }
    
        }
        <span style=color:#66d9ef>return</span> inf;
    }
    <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>main</span>()
    {
        <span style=color:#66d9ef>int</span> T;
        cin<span style=color:#f92672>&gt;</span><span style=color:#f92672>&gt;</span>T;
        <span style=color:#66d9ef>int</span> cas <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
        <span style=color:#66d9ef>while</span> (T<span style=color:#f92672>-</span><span style=color:#f92672>-</span>)
        {
    	  cas<span style=color:#f92672>+</span><span style=color:#f92672>+</span>;
    	  scanf(<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%d %d</span><span style=color:#e6db74>&#34;</span>,<span style=color:#f92672>&amp;</span>n,<span style=color:#f92672>&amp;</span>m);
    	  <span style=color:#66d9ef>for</span> ( <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; i <span style=color:#f92672>&lt;</span> n ; i<span style=color:#f92672>+</span><span style=color:#f92672>+</span> )
    	  {
    		scanf(<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#34;</span>,maze[i]);
    	  }
    	   k <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ;
    	  <span style=color:#66d9ef>for</span> ( <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; i <span style=color:#f92672>&lt;</span> n ; i<span style=color:#f92672>+</span><span style=color:#f92672>+</span> )
    	  {
    		<span style=color:#66d9ef>for</span> ( <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; j  <span style=color:#f92672>&lt;</span> m ; j<span style=color:#f92672>+</span><span style=color:#f92672>+</span> )
    		{
    		    <span style=color:#66d9ef>if</span> (maze[i][j]<span style=color:#f92672>=</span><span style=color:#f92672>=</span><span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>#</span><span style=color:#e6db74>&#39;</span>)
    		    {
    			  k<span style=color:#f92672>+</span><span style=color:#f92672>+</span>;
    			  x[k]<span style=color:#f92672>=</span>i;
    			  y[k]<span style=color:#f92672>=</span>j;
    		    }
    		}
    	  }
    	  <span style=color:#66d9ef>if</span> (k<span style=color:#f92672>&lt;</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>)
    	  {
    
    		printf(<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>Case %d: %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,cas,<span style=color:#ae81ff>0</span>);
    		<span style=color:#66d9ef>continue</span>;
    	  }
    	  <span style=color:#66d9ef>int</span> ans <span style=color:#f92672>=</span> inf;
    	  <span style=color:#66d9ef>for</span> ( <span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span> ; i <span style=color:#f92672>&lt;</span><span style=color:#f92672>=</span> k ;  i<span style=color:#f92672>+</span><span style=color:#f92672>+</span> )
    	  {
    		<span style=color:#66d9ef>for</span> ( <span style=color:#66d9ef>int</span> j <span style=color:#f92672>=</span> i ; j <span style=color:#f92672>&lt;</span><span style=color:#f92672>=</span> k ; j<span style=color:#f92672>+</span><span style=color:#f92672>+</span> )
    		{
    		    cnt <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ;
    		    ans <span style=color:#f92672>=</span> min(ans,bfs(x[i],y[i],x[j],y[j]));
    		}
    	  }
    	  <span style=color:#66d9ef>if</span> (ans<span style=color:#f92672>!</span><span style=color:#f92672>=</span>inf) 
    	  printf(<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>Case %d: %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,cas,ans);
    	  <span style=color:#66d9ef>else</span> printf(<span style=color:#e6db74></span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>Case %d: %d</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>,cas,<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
    
        }
      
    	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
    }
    


</code></pre></div><hr><ul class=pager><li class=previous><a href=/2015/07/poj3414/ data-toggle=tooltip data-placement=top title="poj 3414 pots (bfs+路径记录)">&larr;
Previous Post</a></li><li class=next><a href=/2015/07/uva12442/ data-toggle=tooltip data-placement=top title="uva 12442 . Forwarding Emails">Next
Post &rarr;</a></li></ul><div class=post-comment><span id=/2015/07/i-firegamebfs/ class=leancloud_visitors data-flag-title="I - Fire Game  (两个点开始的bfs)"><span class=post-meta-item-text>访问量 "/2015/07/i-firegamebfs/"</span>
<span class=leancloud-visitors-count></span><p></p></span><div id=vcomments></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script type=text/javascript>new Valine({el:'#vcomments',appId:'UzhnsgbPvx1RFb2kNXUHpPtf-gzGzoHsz',appKey:'OXOvoYGuwMv70Os5GOgaGEWT',notify:true,verify:false,avatar:'retro',placeholder:'说点什么吧...',visitor:true});</script></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href=/tags/>FEATURED TAGS</a></h5><div class=tags><a href=/tags/bfs title=bfs>bfs</a>
<a href=/tags/binary-search title=binary-search>binary-search</a>
<a href=/tags/brute-force title=brute-force>brute-force</a>
<a href=/tags/dfs title=dfs>dfs</a>
<a href=/tags/dp title=dp>dp</a>
<a href=/tags/greedy title=greedy>greedy</a>
<a href=/tags/kmp title=kmp>kmp</a>
<a href=/tags/leetcode title=leetcode>leetcode</a>
<a href=/tags/math title=math>math</a>
<a href=/tags/number-theory title=number-theory>number-theory</a>
<a href=/tags/rmq title=rmq>rmq</a>
<a href=/tags/stl title=stl>stl</a>
<a href=/tags/%E5%89%8D%E7%BC%80%E5%92%8C title=前缀和>前缀和</a>
<a href=/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA title=博弈论>博弈论</a>
<a href=/tags/%E5%9B%BE%E8%AE%BA title=图论>图论</a>
<a href=/tags/%E5%BF%AB%E9%80%9F%E5%B9%82 title=快速幂>快速幂</a>
<a href=/tags/%E6%95%B0%E4%BD%8Ddp title=数位dp>数位dp</a>
<a href=/tags/%E6%9E%84%E9%80%A0 title=构造>构造</a>
<a href=/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84 title=树状数组>树状数组</a>
<a href=/tags/%E6%A8%A1%E6%8B%9F title=模拟>模拟</a>
<a href=/tags/%E6%AF%8D%E5%87%BD%E6%95%B0 title=母函数>母函数</a>
<a href=/tags/%E7%9F%A9%E9%98%B5 title=矩阵>矩阵</a>
<a href=/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91 title=线段树>线段树</a>
<a href=/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95 title=计算几何>计算几何</a></div></section><section><hr><h5>FRIENDS</h5><ul class=list-inline><li><a target=_blank href=https://111qqz.com>111qqz的wordpress博客</a></li></ul></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href rel=alternate type=application/rss+xml title=111qqz的小窝><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss fa-stack-1x fa-inverse"></i></span></a></li><li><a href=mailto:hust.111qqz@gmail.com><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=/img/wechat.jpg><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-wechat fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/111qqz/><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; 111qqz的小窝 2022<br><a href=https://beian.miit.gov.cn/>粤ICP备18103363号</a><br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> by <a href=https://zhaohuabing.com>Huabing</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function async(u,c){var d=document,t='script',o=d.createElement(t),s=d.getElementsByTagName(t)[0];o.src=u;if(c){o.addEventListener('load',function(e){c(null,e);},false);}
s.parentNode.insertBefore(o,s);}</script><script>if($('#tag_cloud').length!==0){async("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:'#bbbbee',end:'#0085a1'},};$('#tag_cloud a').tagcloud();})}</script><script>async("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js",function(){var $nav=document.querySelector("nav");if($nav)FastClick.attach($nav);})</script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','G-SNN2WR6EG5','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>