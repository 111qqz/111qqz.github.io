<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="111qqz的小窝"><meta property="og:type" content="article"><meta property="og:image" content="https://111qqz.github.io/img/2.png"><meta property="twitter:image" content="https://111qqz.github.io/img/2.png"><meta name=title content="codeforces 589 B - Layer Cake"><meta property="og:title" content="codeforces 589 B - Layer Cake"><meta property="twitter:title" content="codeforces 589 B - Layer Cake"><meta name=description content><meta property="og:description" content><meta property="twitter:description" content><meta property="twitter:card" content="summary"><meta name=keyword content="ACM,111qqz,商汤科技,hust,华中科技大学"><link rel="shortcut icon" href=/img/favicon.ico><title>codeforces 589 B - Layer Cake-111qqz的小窝</title><link rel=canonical href=/2015/10/codeforces589b-layercake/><link rel=stylesheet href=/css/iDisqus.min.css><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/hux-blog.min.css><link rel=stylesheet href=/css/syntax.css><link rel=stylesheet href=/css/zanshang.css><link href=//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css rel=stylesheet type=text/css><script src=/js/jquery.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/hux-blog.min.js></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/docco.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=stylesheet href=/css/hux-blog.min.css><link rel=stylesheet href=/css/hux-blog.min-custom.css><script data-ad-client=ca-pub-2010211964550865 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=/>111qqz的小窝</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>Home</a></li><li><a href=/categories/acm/>ACM-ICPC</a></li><li><a href=/categories/deep-learning/>深度学习</a></li><li><a href=/categories/mooc/>公开课</a></li><li><a href=/categories/%e5%85%b6%e4%bb%96/>其他</a></li><li><a href=/top/about/>ABOUT</a></li><li><a href=/search>SEARCH <img src=/img/search.png height=15 style=cursor:pointer alt=Search></a></li></ul></div></div></div></nav><script>var $body=document.body;var $toggle=document.querySelector('.navbar-toggle');var $navbar=document.querySelector('#huxblog_navbar');var $collapse=document.querySelector('.navbar-collapse');$toggle.addEventListener('click',handleMagic)
function handleMagic(e){if($navbar.className.indexOf('in')>0){$navbar.className=" ";setTimeout(function(){if($navbar.className.indexOf('in')<0){$collapse.style.height="0px"}},400)}else{$collapse.style.height="auto"
$navbar.className+=" in";}}</script><style type=text/css>header.intro-header{background-image:url(/img/2.png)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags></div><h1>codeforces 589 B - Layer Cake</h1><h2 class=subheading></h2><span class=meta>Posted by
111qqz
on
Tuesday, October 27, 2015
<span id=/2015/10/codeforces589b-layercake/ class="leancloud_visitors meta_data_item" data-flag-title><span class=post-meta-item-icon><span class="octicon octicon-eye"></span></span><i class="fa fa-eye"></i><span class=old-visitors-count style=display:none></span><span class=leancloud-visitors-count></span></span><script src=https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js></script><script>AV.initialize("UzhnsgbPvx1RFb2kNXUHpPtf-gzGzoHsz","OXOvoYGuwMv70Os5GOgaGEWT");</script><script type=text/javascript>function showTime(Counter){var query=new AV.Query(Counter);var entries=[];var $visitors=$(".leancloud_visitors");console.log("aaa")
$visitors.each(function(){entries.push($(this).attr("id").trim());});query.containedIn('url',entries);query.find().done(function(results){var COUNT_CONTAINER_REF='.leancloud-visitors-count';var OLD_COUNT_CONTAINER_REF='.old-visitors-count';for(var i=0;i<results.length;i++){var item=results[i];var url=item.get('url');var time=item.get('time');var element=document.getElementById(url);$(element).find(COUNT_CONTAINER_REF).text(time);}
for(var i=0;i<entries.length;i++){var url=entries[i];var element=document.getElementById(url);var countSpan=$(element).find(COUNT_CONTAINER_REF);if(countSpan.text()==''){var oldCountSpan=$(element).find(OLD_COUNT_CONTAINER_REF).text();if(oldCountSpan!=''){countSpan.text(0+parseInt(oldCountSpan));}else{countSpan.text(0);}}}}).fail(function(object,error){console.log("Error: "+error.code+" "+error.message);});}
function addCount(Counter){var $visitors=$(".leancloud_visitors");var url=$visitors.attr('id').trim();var title=$visitors.attr('data-flag-title').trim();var query=new AV.Query(Counter);con
query.equalTo("url",url);query.find({success:function(results){if(results.length>0){var counter=results[0];counter.fetchWhenSave(true);counter.increment("time");counter.save(null,{success:function(counter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(counter.get('time'));},error:function(counter,error){console.log('Failed to save Visitor num, with error message: '+error.message);}});}else{var newcounter=new Counter();var acl=new AV.ACL();acl.setPublicReadAccess(true);acl.setPublicWriteAccess(true);newcounter.setACL(acl);newcounter.set("title",title);newcounter.set("url",url);var OLD_COUNT_CONTAINER_REF='.old-visitors-count';var $element=$(document.getElementById(url));var oldCountSpan=$element.find(OLD_COUNT_CONTAINER_REF).text();if(oldCountSpan!=''){newcounter.set("time",parseInt(oldCountSpan)+1);}else{newcounter.set("time",1);}
newcounter.save(null,{success:function(newcounter){var $element=$(document.getElementById(url));$element.find('.leancloud-visitors-count').text(newcounter.get('time'));},error:function(newcounter,error){console.log('Failed to create');}});}},error:function(error){console.log('Error:'+error.code+" "+error.message);}});}
$(function(){var Counter=AV.Object.extend("Counter");console.log("miao miao miao")
if($('.leancloud_visitors').length==1){addCount(Counter);}else{showTime(Counter);}});</script></span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><header><h2>TOC</h2></header><nav id=TableOfContents></nav><p>B - Layer Cake</p><p>**Time Limit:**6000MS **Memory Limit:**524288KB <strong>64bit IO Format:</strong>%I64d & %I64u</p><p>Submit <a href="http://acm.hust.edu.cn/vjudge/contest/view.action?cid=96696#status//B/0">Status</a> <a href="http://acm.hust.edu.cn/vjudge/problem/viewProblem.action?id=261053">Practice</a> <a href="http://acm.hust.edu.cn/vjudge/problem/visitOriginUrl.action?id=261053">CodeForces 589B</a></p><p>Description</p><p>Dasha decided to bake a big and tasty layer cake. In order to do that she went shopping and bought <em>n</em> rectangular cake layers. The length and the width of the <em>i</em>-th cake layer were <em>a__i</em> and <em>b__i</em> respectively, while the height of each cake layer was equal to one.</p><p>From a cooking book Dasha learned that a cake must have a form of a rectangular parallelepiped constructed from cake layers of the same sizes.</p><p>Dasha decided to bake the biggest possible cake from the bought cake layers (possibly, using only some of them). It means that she wants the volume of the cake to be as big as possible. To reach this goal, Dasha can cut rectangular pieces out of the bought cake layers. She always cuts cake layers in such a way that cutting lines are parallel to the edges of that cake layer. Dasha isn't very good at geometry, so after cutting out a piece from the original cake layer, she throws away the remaining part of it. Also she can rotate a cake layer in the horizontal plane (swap its width and length).</p><p>Dasha wants her cake to be constructed as a stack of cake layers of the same sizes. Each layer of the resulting cake should be made out of only one cake layer (the original one or cut out from the original cake layer).</p><p>Help Dasha to calculate the maximum possible volume of the cake she can bake using given cake layers.</p><p>Input</p><p>The first line contains an integer <em>n</em>(1 ≤ <em>n</em> ≤ 4000) &ndash; the number of cake layers that Dasha can use.</p><p>Each of the following <em>n</em> lines contains two integer numbers <em>a__i</em> and <em>b__i</em>(1 ≤ <em>a__i</em>, <em>b__i</em> ≤ 106) &ndash; the length and the width of <em>i</em>-th cake layer respectively.</p><p>Output</p><p>The first line of the output should contain the maximum volume of cake that can be baked using given layers.</p><p>The second line of the output should contain the length and the width of the resulting cake. If there are many solutions with maximum possible volume, print any of them.</p><p>Sample Input</p><p>Input</p><pre><code>5&lt;br&gt;&lt;/br&gt;5 12&lt;br&gt;&lt;/br&gt;1 1&lt;br&gt;&lt;/br&gt;4 6&lt;br&gt;&lt;/br&gt;6 4&lt;br&gt;&lt;/br&gt;4 6
</code></pre><p>Output</p><pre><code>96&lt;br&gt;&lt;/br&gt;6 4
</code></pre><p>Input</p><pre><code>2&lt;br&gt;&lt;/br&gt;100001 900000&lt;br&gt;&lt;/br&gt;900001 100000
</code></pre><p>Output</p><pre><code>180000000000&lt;br&gt;&lt;/br&gt;900000 100000
</code></pre><p>Hint</p><p>In the first example Dasha doesn't use the second cake layer. She cuts 4 × 6 rectangle from the first cake layer and she uses other cake layers as is.</p><p>In the second example Dasha cuts off slightly from the both cake layers.</p><p>巧妙得利用了set&mldr;.</p><p>注意因为可能有重复元素。。。所以要用multiset&mldr;</p><p>然后有点喜欢上用pair了hhh</p><p>队友是二维bit+熔池过掉的。。。。</p><p><img src=https://111qqz.com/wp-content/uploads/2015/11/ContractedBlock23.gif alt>
<img src=https://111qqz.com/wp-content/uploads/2015/11/ExpandedBlockStart23.gif alt></p><pre><code>&lt;span style=&quot;color: #008080;&quot;&gt; 1&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;/*&lt;/span&gt;&lt;span style=&quot;color: #008000;&quot;&gt;************************************************************************
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt; 2&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;    &gt; File Name: code/hust/20151025/BB.cpp
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt; 3&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;    &gt; Author: 111qqz
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt; 4&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;    &gt; Email: rkz2013@126.com 
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt; 5&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt;    &gt; Created Time: 2015年10月27日 星期二 14时34分16秒
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt; 6&lt;/span&gt; &lt;span style=&quot;color: #008000;&quot;&gt; ***********************************************************************&lt;/span&gt;&lt;span style=&quot;color: #008000;&quot;&gt;*/&lt;/span&gt;
&lt;span style=&quot;color: #008080;&quot;&gt; 7&lt;/span&gt; 
&lt;span style=&quot;color: #008080;&quot;&gt; 8&lt;/span&gt; #include&lt;iostream&gt;
&lt;span style=&quot;color: #008080;&quot;&gt; 9&lt;/span&gt; #include&lt;iomanip&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;10&lt;/span&gt; #include&lt;cstdio&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;11&lt;/span&gt; #include&lt;algorithm&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;12&lt;/span&gt; #include&lt;cmath&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;13&lt;/span&gt; #include&lt;cstring&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;14&lt;/span&gt; #include&lt;&lt;span style=&quot;color: #0000ff;&quot;&gt;string&lt;/span&gt;&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;15&lt;/span&gt; #include&lt;map&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;16&lt;/span&gt; #include&lt;&lt;span style=&quot;color: #0000ff;&quot;&gt;set&lt;/span&gt;&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;17&lt;/span&gt; #include&lt;queue&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;18&lt;/span&gt; #include&lt;vector&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;19&lt;/span&gt; #include&lt;stack&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;20&lt;/span&gt; #include&lt;cctype&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;21&lt;/span&gt;                  
&lt;span style=&quot;color: #008080;&quot;&gt;22&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;#define&lt;/span&gt; yn hez111qqz
&lt;span style=&quot;color: #008080;&quot;&gt;23&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;#define&lt;/span&gt; j1 cute111qqz
&lt;span style=&quot;color: #008080;&quot;&gt;24&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;#define&lt;/span&gt; ms(a,x) memset(a,x,sizeof(a))
&lt;span style=&quot;color: #008080;&quot;&gt;25&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;#define&lt;/span&gt; sec second
&lt;span style=&quot;color: #008080;&quot;&gt;26&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;#define&lt;/span&gt; fir first
&lt;span style=&quot;color: #008080;&quot;&gt;27&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;using&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;namespace&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt; std;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;28&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt; dx4[&lt;span style=&quot;color: #800080;&quot;&gt;4&lt;/span&gt;]={&lt;span style=&quot;color: #800080;&quot;&gt;1&lt;/span&gt;,&lt;span style=&quot;color: #800080;&quot;&gt;0&lt;/span&gt;,&lt;span style=&quot;color: #800080;&quot;&gt;0&lt;/span&gt;,-&lt;span style=&quot;color: #800080;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;};
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;29&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt; dy4[&lt;span style=&quot;color: #800080;&quot;&gt;4&lt;/span&gt;]={&lt;span style=&quot;color: #800080;&quot;&gt;0&lt;/span&gt;,-&lt;span style=&quot;color: #800080;&quot;&gt;1&lt;/span&gt;,&lt;span style=&quot;color: #800080;&quot;&gt;1&lt;/span&gt;,&lt;span style=&quot;color: #800080;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;};
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;30&lt;/span&gt; typedef &lt;span style=&quot;color: #0000ff;&quot;&gt;long&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;long&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt; LL;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;31&lt;/span&gt; typedef &lt;span style=&quot;color: #0000ff;&quot;&gt;double&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt; DB;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;32&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt; inf = &lt;span style=&quot;color: #800080;&quot;&gt;0x3f3f3f3f&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;33&lt;/span&gt; 
&lt;span style=&quot;color: #008080;&quot;&gt;34&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;const&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt; N=4E3+&lt;span style=&quot;color: #800080;&quot;&gt;7&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;35&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt; n;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;36&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;LL mx,cura,curb;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;37&lt;/span&gt; pair&lt;ll,ll&gt;&lt;span style=&quot;color: #000000;&quot;&gt; a[N];
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;38&lt;/span&gt; multiset&lt;ll&gt;&lt;span style=&quot;color: #000000;&quot;&gt; se;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;39&lt;/span&gt; multiset&lt;ll&gt;&lt;span style=&quot;color: #000000;&quot;&gt; ::iterator it;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;40&lt;/span&gt; &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt; main()
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;41&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;{
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;42&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;  #ifndef  ONLINE_JUDGE 
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;43&lt;/span&gt;    freopen(&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;in.txt&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;,&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;r&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;,stdin);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;44&lt;/span&gt;   &lt;span style=&quot;color: #0000ff;&quot;&gt;#endif&lt;/span&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;45&lt;/span&gt; 
&lt;span style=&quot;color: #008080;&quot;&gt;46&lt;/span&gt;    scanf(&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;%d&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;,&amp;&lt;span style=&quot;color: #000000;&quot;&gt;n);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;47&lt;/span&gt;    &lt;span style=&quot;color: #0000ff;&quot;&gt;for&lt;/span&gt; ( &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt; i = &lt;span style=&quot;color: #800080;&quot;&gt;0&lt;/span&gt; ; i &lt; n ; i++&lt;span style=&quot;color: #000000;&quot;&gt;)
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;48&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;    {
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;49&lt;/span&gt;     scanf(&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;%lld %lld&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;,&amp;a;[i].fir,&amp;&lt;span style=&quot;color: #000000;&quot;&gt;a[i].sec);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;50&lt;/span&gt;     &lt;span style=&quot;color: #0000ff;&quot;&gt;if&lt;/span&gt; (a[i].fir&gt;&lt;span style=&quot;color: #000000;&quot;&gt;a[i].sec) swap(a[i].fir,a[i].sec);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;51&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;    }
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;52&lt;/span&gt;    sort(a,a+&lt;span style=&quot;color: #000000;&quot;&gt;n);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;53&lt;/span&gt;    mx = -&lt;span style=&quot;color: #800080;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;54&lt;/span&gt;    &lt;span style=&quot;color: #0000ff;&quot;&gt;for&lt;/span&gt; ( &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt; i = n -&lt;span style=&quot;color: #800080;&quot;&gt;1&lt;/span&gt; ; i &gt;= &lt;span style=&quot;color: #800080;&quot;&gt;0&lt;/span&gt; ; i--&lt;span style=&quot;color: #000000;&quot;&gt;)
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;55&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;   {
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;56&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;       se.insert(a[i].sec);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;57&lt;/span&gt;        it =&lt;span style=&quot;color: #000000;&quot;&gt;se.begin();
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;58&lt;/span&gt;        &lt;span style=&quot;color: #0000ff;&quot;&gt;for&lt;/span&gt; ( &lt;span style=&quot;color: #0000ff;&quot;&gt;int&lt;/span&gt; j = i ; j &lt; n ; j++&lt;span style=&quot;color: #000000;&quot;&gt;)
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;59&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;    {
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;60&lt;/span&gt;         LL tmp =a[i].fir*(*it)*(n-&lt;span style=&quot;color: #000000;&quot;&gt;j);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;61&lt;/span&gt;         &lt;span style=&quot;color: #0000ff;&quot;&gt;if&lt;/span&gt; (tmp&gt;&lt;span style=&quot;color: #000000;&quot;&gt;mx)
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;62&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;        {
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;63&lt;/span&gt;         mx =&lt;span style=&quot;color: #000000;&quot;&gt; tmp;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;64&lt;/span&gt;         cura =&lt;span style=&quot;color: #000000;&quot;&gt; a[i].fir;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;65&lt;/span&gt;         curb = *&lt;span style=&quot;color: #000000;&quot;&gt;it;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;66&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;        }
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;67&lt;/span&gt;         it++&lt;span style=&quot;color: #000000;&quot;&gt;;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;68&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;    }
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;69&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;   }
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;70&lt;/span&gt;    printf(&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;%lldn%lld %lldn&lt;/span&gt;&lt;span style=&quot;color: #800000;&quot;&gt;&quot;&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;,mx,curb,cura);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;71&lt;/span&gt;   
&lt;span style=&quot;color: #008080;&quot;&gt;72&lt;/span&gt;    
&lt;span style=&quot;color: #008080;&quot;&gt;73&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt; #ifndef ONLINE_JUDGE  
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;74&lt;/span&gt; &lt;span style=&quot;color: #000000;&quot;&gt;  fclose(stdin);
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;75&lt;/span&gt;   &lt;span style=&quot;color: #0000ff;&quot;&gt;#endif&lt;/span&gt;
&lt;span style=&quot;color: #008080;&quot;&gt;76&lt;/span&gt;     &lt;span style=&quot;color: #0000ff;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #800080;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #000000;&quot;&gt;;
&lt;/span&gt;&lt;span style=&quot;color: #008080;&quot;&gt;77&lt;/span&gt; }
</code></pre><p>View Code</p><hr><ul class=pager><li class=previous><a href=/2015/10/zoj3627f-treasurehuntii/ data-toggle=tooltip data-placement=top title="zoj 3627 F - Treasure Hunt II(贪心)">&larr;
Previous Post</a></li><li class=next><a href=/2015/10/codeforces589h-touristguidedfs/ data-toggle=tooltip data-placement=top title="codeforces 589H - Tourist Guide（dfs）">Next
Post &rarr;</a></li></ul><div class=post-comment><span id=/2015/10/codeforces589b-layercake/ class=leancloud_visitors data-flag-title="codeforces 589 B - Layer Cake"><span class=post-meta-item-text>访问量 "/2015/10/codeforces589b-layercake/"</span>
<span class=leancloud-visitors-count></span><p></p></span><div id=vcomments></div><script src=//cdn1.lncld.net/static/js/3.0.4/av-min.js></script><script src=//unpkg.com/valine/dist/Valine.min.js></script><script type=text/javascript>new Valine({el:'#vcomments',appId:'UzhnsgbPvx1RFb2kNXUHpPtf-gzGzoHsz',appKey:'OXOvoYGuwMv70Os5GOgaGEWT',notify:true,verify:false,avatar:'retro',placeholder:'说点什么吧...',visitor:true});</script></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href=/tags/>FEATURED TAGS</a></h5><div class=tags><a href=/tags/bfs title=bfs>bfs</a>
<a href=/tags/binary-search title=binary-search>binary-search</a>
<a href=/tags/brute-force title=brute-force>brute-force</a>
<a href=/tags/dfs title=dfs>dfs</a>
<a href=/tags/dp title=dp>dp</a>
<a href=/tags/greedy title=greedy>greedy</a>
<a href=/tags/kmp title=kmp>kmp</a>
<a href=/tags/leetcode title=leetcode>leetcode</a>
<a href=/tags/math title=math>math</a>
<a href=/tags/number-theory title=number-theory>number-theory</a>
<a href=/tags/rmq title=rmq>rmq</a>
<a href=/tags/stl title=stl>stl</a>
<a href=/tags/%E5%89%8D%E7%BC%80%E5%92%8C title=前缀和>前缀和</a>
<a href=/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA title=博弈论>博弈论</a>
<a href=/tags/%E5%9B%BE%E8%AE%BA title=图论>图论</a>
<a href=/tags/%E5%BF%AB%E9%80%9F%E5%B9%82 title=快速幂>快速幂</a>
<a href=/tags/%E6%95%B0%E4%BD%8Ddp title=数位dp>数位dp</a>
<a href=/tags/%E6%9E%84%E9%80%A0 title=构造>构造</a>
<a href=/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84 title=树状数组>树状数组</a>
<a href=/tags/%E6%A8%A1%E6%8B%9F title=模拟>模拟</a>
<a href=/tags/%E6%AF%8D%E5%87%BD%E6%95%B0 title=母函数>母函数</a>
<a href=/tags/%E7%9F%A9%E9%98%B5 title=矩阵>矩阵</a>
<a href=/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91 title=线段树>线段树</a>
<a href=/tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95 title=计算几何>计算几何</a></div></section><section><hr><h5>FRIENDS</h5><ul class=list-inline><li><a target=_blank href=https://111qqz.com>111qqz的wordpress博客</a></li></ul></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href rel=alternate type=application/rss+xml title=111qqz的小窝><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-rss fa-stack-1x fa-inverse"></i></span></a></li><li><a href=mailto:hust.111qqz@gmail.com><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=/img/wechat.jpg><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-wechat fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/111qqz/><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i><i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; 111qqz的小窝 2022<br><a href=https://beian.miit.gov.cn/>粤ICP备18103363号</a><br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> by <a href=https://zhaohuabing.com>Huabing</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function async(u,c){var d=document,t='script',o=d.createElement(t),s=d.getElementsByTagName(t)[0];o.src=u;if(c){o.addEventListener('load',function(e){c(null,e);},false);}
s.parentNode.insertBefore(o,s);}</script><script>if($('#tag_cloud').length!==0){async("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:'#bbbbee',end:'#0085a1'},};$('#tag_cloud a').tagcloud();})}</script><script>async("https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js",function(){var $nav=document.querySelector("nav");if($nav)FastClick.attach($nav);})</script></body></html>