<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Docker on 111qqz的小窝</title><link>https://111qqz.com/tags/docker/</link><description>Recent content in Docker on 111qqz的小窝</description><generator>Hugo -- gohugo.io</generator><language>zh</language><copyright>Copyright © 2012-2022 all rights reserved.</copyright><lastBuildDate>Sat, 10 Dec 2022 18:04:41 +0800</lastBuildDate><atom:link href="https://111qqz.com/tags/docker/index.xml" rel="self" type="application/rss+xml"/><item><title>【施工中】gitlab ci docker executor指定用户执行</title><link>https://111qqz.com/2022/12/Specify-User-to-Run-Docker-Executor-in-Gitlab-Ci/</link><pubDate>Sat, 10 Dec 2022 18:04:41 +0800</pubDate><guid>https://111qqz.com/2022/12/Specify-User-to-Run-Docker-Executor-in-Gitlab-Ci/</guid><description>
&lt;h1 id="背景"&gt;背景&lt;/h1&gt;
&lt;p&gt;需要在gitlab &lt;a href="https://docs.gitlab.com/ee/ci/pipelines/"&gt;pipelines&lt;/a&gt;中跑一堆测试
其中某些测试需要与rancher交互，在训练集群上执行一个训练任务&lt;/p&gt;
&lt;p&gt;gitlab pipelines的默认用户是root,而rancher会默认以当前操作的user进行调度。&lt;/p&gt;</description></item><item><title>k8s nodes is forbidden user cannot list resource nodes in api group at the cluster scope</title><link>https://111qqz.com/2020/05/install-k8s-get-nodes-forbidden-error/</link><pubDate>Thu, 07 May 2020 16:01:52 +0800</pubDate><guid>https://111qqz.com/2020/05/install-k8s-get-nodes-forbidden-error/</guid><description>
&lt;p&gt;继续将k8s用于模型转换和部署的自动化流程...然后发现之前安装k8s的文档不work了．．
时间是2020年5月7日，当前最新的k8s版本是　v1.18.2&lt;/p&gt;</description></item><item><title>Kubernetes(k8s)在深度学习模型转换方面的探索</title><link>https://111qqz.com/2019/11/K8s-for-Model-Conversion/</link><pubDate>Fri, 22 Nov 2019 11:14:19 +0800</pubDate><guid>https://111qqz.com/2019/11/K8s-for-Model-Conversion/</guid><description>
&lt;p&gt;年中的时候接了离职的同事模型转换的锅，在不断地更新迭代的过程中，发现了一些痛点。
发现k8s能够解决一部分痛点，因此来分享一下在这方面的探索。&lt;/p&gt;
&lt;h2 id="什么是模型转换"&gt;什么是模型转换&lt;/h2&gt;
&lt;p&gt;简单来说，深度学习模型的流程分为training和inference两部分。训练时用的一般是pytorch等框架，这些框架训练出的model是没办法直接部署在各个硬件平台上做inference的。因此需要将使用训练框架得到的模型，转换为能够部署到各个硬件平台上的模型。这个过程就是模型转换。&lt;/p&gt;</description></item><item><title>我在公司的服务器上执行了sudo rm -rf /*</title><link>https://111qqz.com/2018/11/when-I-execute-sudo-rm-rf-on-the-company-server/</link><pubDate>Sat, 24 Nov 2018 08:31:19 +0000</pubDate><guid>https://111qqz.com/2018/11/when-I-execute-sudo-rm-rf-on-the-company-server/</guid><description>
&lt;p&gt;TL;DR&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; * 依靠人的小心谨慎是不靠谱的，人总有失误的时候
* 看了下docker volume的权限机制，貌似是从docker image中继承。
* 写了两个脚本，用来把rm alias到mv，避免手滑
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;又是一个&lt;del&gt;可以摸鱼的&lt;/del&gt;周五晚上，sensespider系统测试了一天，fix了几个Bug,似乎可以发布了。系统一直是部署在了docker中..这几天测试产生了不少结果文件在host的volume中... 看着不舒服，干脆删一下好了&lt;/p&gt;</description></item><item><title>docker network 与 本地 network 网段冲突</title><link>https://111qqz.com/2018/11/docker-network-conflict-with-local-subnetwork/</link><pubDate>Tue, 20 Nov 2018 08:33:20 +0000</pubDate><guid>https://111qqz.com/2018/11/docker-network-conflict-with-local-subnetwork/</guid><description>
&lt;h3 id="起因"&gt;起因:&lt;/h3&gt;
&lt;p&gt;公司部署在hk的爬虫服务器突然挂掉了。后来发现只是在深圳办公区无法访问。排查后发现原因是docker的网络(包括docker network的subnet或者是某个容器的ip)与该host在内网的ip段相同，导致冲突。&lt;/p&gt;</description></item><item><title>记一次在 docker compose 中使用volume的踩坑记录</title><link>https://111qqz.com/2018/11/docker-compose-default-volume-name-makes-me-confused/</link><pubDate>Wed, 14 Nov 2018 08:06:57 +0000</pubDate><guid>https://111qqz.com/2018/11/docker-compose-default-volume-name-makes-me-confused/</guid><description>
&lt;h3 id="现象"&gt;现象:&lt;/h3&gt;
&lt;p&gt;使用docker compose 挂载 named volume 无效（且没有错误提示)&lt;/p&gt;
&lt;h3 id="排查过程"&gt;排查过程:&lt;/h3&gt;
&lt;p&gt;一开始是没有使用docker-compose命令，直接使用docker run  -v 命令，挂载两个绝对路径，没有问题。&lt;/p&gt;</description></item></channel></rss>