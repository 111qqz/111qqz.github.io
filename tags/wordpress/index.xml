<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>wordpress on 111qqz's blog</title><link>https://111qqz.com/tags/wordpress/</link><description>Recent content in wordpress on 111qqz's blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Copyright © 2012-2022 all rights reserved.</copyright><lastBuildDate>Mon, 14 May 2018 13:08:30 +0000</lastBuildDate><atom:link href="https://111qqz.com/tags/wordpress/index.xml" rel="self" type="application/rss+xml"/><item><title>wordpress 开启全站https</title><link>https://111qqz.com/2018/05/enable-https-for-wordpress/</link><pubDate>Mon, 14 May 2018 13:08:30 +0000</pubDate><guid>https://111qqz.com/2018/05/enable-https-for-wordpress/</guid><description>
20190511更新:
证书到期了,写一下更换证书的流程.
重新申请好证书之后,直接把Apache里面对应的123放到/data/cert文件夹.
其中1对应server-ca.crt,2对应server.crt,3对应server.key
由于从套路云转移到良心云，迫于国内某些蛋疼的政策，以及一些其他原因，决定全站上https.
首先是申请SSL证书，这个良心云就可以申请，也有其他地方。
这里要注意的是，有些证书是只能对应一个域名，腾讯云貌似就是这样，不过好像www.111qqz.com的证书也可以用于111qqz.com
得到证书中有Apache,Nginx,Tomcat和IIS四个文件夹，由于我们使用的是Apache，所以其他三个不用管。
1. 将证书上传到服务器证书目录：/data/cert（没有cert目录可以自己新建） 2. 在/etc/httpd/conf.d目录下新建一个https配置文件，假设命名为mydomain-ssl.conf。 3. 拷贝下面的https配置文件模板到mydomain-ssl.conf文件中，并保存 &amp;lt;VirtualHost *:443&amp;gt; ServerName www.111qqz.com ServerAlias 111qqz.com DocumentRoot &amp;quot;/data/wwwroot/default/wordpress&amp;quot; #ErrorLog &amp;quot;logs/www.mydomain.com-error_log&amp;quot; #CustomLog &amp;quot;logs/www.mydomain.com-access_log&amp;quot; common &amp;lt;Directory &amp;quot;/data/wwwroot/default/wordpress&amp;quot;&amp;gt; Options Indexes FollowSymlinks AllowOverride All Require all granted &amp;lt;/Directory&amp;gt; SSLEngine on SSLCertificateFile /data/cert/server.crt SSLCertificateKeyFile /data/cert/server.key SSLCertificateChainFile /data/cert/server-ca.crt &amp;lt;/VirtualHost&amp;gt; 需要注意的是，servername那里要写带www的域名，不带www的写在serveralias 4. 修改配置文件中相关项，并保存 ServerName #主域名，务必修改 ServerAlias #副域名，可选项 DocumentRoot #网站路径，务必填写网站实际路径，例如:/data/wwwroot/default/wordpress Directory #同上 SSLCertificateFile #证书，务必填写网站实际路径 SSLCertificateKeyFile #证书私钥，务必填写网站实际路径 SSLCertificateChainFile #证书链（CA文件），务必填写网站实际路径
然后由于我是迁移了服务器，很大可能是主页可以访问，但任何一个其他页面都会因报错500 internal error 之类，查看日志，位置在/var/log/httpd 里面，发现报错AH00124: Request exceeded the limit of 10 internal redirects due to probable configuration error.</description></item></channel></rss>