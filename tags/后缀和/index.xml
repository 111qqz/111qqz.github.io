<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>后缀和 on Clarity</title><link>https://111qqz.com/tags/%E5%90%8E%E7%BC%80%E5%92%8C/</link><description>Recent content in 后缀和 on Clarity</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Copyright © 2008–2018, Steve Francia and the Hugo Authors; all rights reserved.</copyright><lastBuildDate>Mon, 30 Jan 2017 16:09:22 +0000</lastBuildDate><atom:link href="https://111qqz.com/tags/%E5%90%8E%E7%BC%80%E5%92%8C/index.xml" rel="self" type="application/rss+xml"/><item><title>BZOJ 1303: [CQOI2009]中位数图（前缀/后缀和乱搞）</title><link>https://111qqz.com/2017/01/bzoj-1303-cqoi2009/</link><pubDate>Mon, 30 Jan 2017 16:09:22 +0000</pubDate><guid>https://111qqz.com/2017/01/bzoj-1303-cqoi2009/</guid><description>
1303: [CQOI2009]中位数图 Time Limit: 1 Sec Memory Limit: 162 MB Submit: 2480 Solved: 1529 [Submit][Status][Discuss]
Description 给出1~n的一个排列，统计该排列有多少个长度为奇数的连续子序列的中位数是b。中位数是指把所有元素从小到大排列后，位于中间的数。
Input 第一行为两个正整数n和b ，第二行为1~n 的排列。
Output 输出一个整数，即中位数为b的连续子序列个数。
Sample Input 7 4 5 7 2 4 3 1 6
Sample Output 4
HINT 第三个样例解释：{4}, {7,2,4}, {5,7,2,4,3}和{5,7,2,4,3,1,6} N&amp;lt;=100000
思路：这道题的思路还是比较经典的...把大于b的数看成1，小于b的数看成-1..于是一段以b为中位数的连续的长度为奇数的数列的和为0.
那么从b往前做一个后缀和，往后做一个前缀和...然后统计每个前缀和/后缀和的值的个数..
然后枚举前缀和/后缀和可能的值（-n..n，由于负数不好处理，整体+n，变成0..2n)
具体见代码
/* *********************************************** Author :111qqz Created Time :2017年01月30日 星期一 20时13分11秒 File Name :code/bzoj/1303.cpp ************************************************ */ #include &amp;lt;cstdio&amp;gt; #include &amp;lt;cstring&amp;gt; #include &amp;lt;iostream&amp;gt; #include &amp;lt;algorithm&amp;gt; #include &amp;lt;vector&amp;gt; #include &amp;lt;queue&amp;gt; #include &amp;lt;set&amp;gt; #include &amp;lt;map&amp;gt; #include &amp;lt;string&amp;gt; #include &amp;lt;cmath&amp;gt; #include &amp;lt;cstdlib&amp;gt; #include &amp;lt;ctime&amp;gt; #define fst first #define sec second #define lson l,m,rt&amp;lt;&amp;lt;1 #define rson m+1,r,rt&amp;lt;&amp;lt;1|1 #define ms(a,x) memset(a,x,sizeof(a)) typedef long long LL; #define pi pair &amp;lt; int ,int &amp;gt; #define MP make_pair using namespace std; const double eps = 1E-8; const int dx4[4]={1,0,0,-1}; const int dy4[4]={0,-1,1,0}; const int inf = 0x3f3f3f3f; const int N=1E5+7; int a[N]; int sum[N]; int l[N*2],r[N*2]; int n,b; int pos; int main() { #ifndef ONLINE_JUDGE freopen(&amp;quot;code/in.</description></item></channel></rss>