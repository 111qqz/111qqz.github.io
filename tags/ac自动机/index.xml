<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ac自动机 on Clarity</title><link>https://111qqz.com/tags/ac%E8%87%AA%E5%8A%A8%E6%9C%BA/</link><description>Recent content in ac自动机 on Clarity</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>Copyright © 2008–2018, Steve Francia and the Hugo Authors; all rights reserved.</copyright><lastBuildDate>Wed, 17 Aug 2016 13:17:02 +0000</lastBuildDate><atom:link href="https://111qqz.com/tags/ac%E8%87%AA%E5%8A%A8%E6%9C%BA/index.xml" rel="self" type="application/rss+xml"/><item><title>hdu 2896 病毒侵袭 (ac自动机)</title><link>https://111qqz.com/2016/08/hdu-2896/</link><pubDate>Wed, 17 Aug 2016 13:17:02 +0000</pubDate><guid>https://111qqz.com/2016/08/hdu-2896/</guid><description>
hdu 2896 题目链接
题意：给出n个病毒，然后给出m个网站，然后问每个网站中有哪些病毒，以及有病毒的网站的个数。
需要注意病毒和网站都需要按从小到达排列输出。
思路：ac自动机，需要记录病毒id...然后。。因为病毒的id忘记排序wa了好多发。。智力减2.
/* *********************************************** Author :111qqz Created Time :2016年08月16日 星期二 19时53分24秒 File Name :code/hdu/2896.cpp ************************************************ */ #include &amp;lt;cstdio&amp;gt; #include &amp;lt;cstring&amp;gt; #include &amp;lt;iostream&amp;gt; #include &amp;lt;algorithm&amp;gt; #include &amp;lt;vector&amp;gt; #include &amp;lt;queue&amp;gt; #include &amp;lt;stack&amp;gt; #include &amp;lt;set&amp;gt; #include &amp;lt;map&amp;gt; #include &amp;lt;string&amp;gt; #include &amp;lt;cmath&amp;gt; #include &amp;lt;cstdlib&amp;gt; #include &amp;lt;deque&amp;gt; #include &amp;lt;ctime&amp;gt; #define fst first #define sec second #define lson l,m,rt&amp;lt;&amp;lt;1 #define rson m+1,r,rt&amp;lt;&amp;lt;1|1 #define ms(a,x) memset(a,x,sizeof(a)) typedef long long LL; #define pi pair &amp;lt; int ,int &amp;gt; #define MP make_pair using namespace std; const double eps = 1E-8; const int dx4[4]={1,0,0,-1}; const int dy4[4]={0,-1,1,0}; const int inf = 0x3f3f3f3f; vector &amp;lt;int&amp;gt;ans; struct Trie { struct Node { Node *nxt[128]; Node *fail; int val; Node() { for ( int i = 0 ; i &amp;lt; 128 ; i++) nxt[i] = NULL; val = 0; fail = NULL; } }; Node *root; void init() { root = new Node(); } void Insert(char *s,int num) { int len = strlen(s); Node *u = root; for ( int i = 0 ; i &amp;lt; len ;i++) { int v = s[i]-32; if (u-&amp;gt;nxt[v]==NULL) u-&amp;gt;nxt[v] = new Node(); u = u-&amp;gt;nxt[v]; } u-&amp;gt;val = num; } void getFail() { root-&amp;gt;fail = root; queue&amp;lt;Node*&amp;gt;Q; for ( int i = 0 ; i &amp;lt; 128 ; i++) { if (root-&amp;gt;nxt[i]==NULL) root-&amp;gt;nxt[i] = root; else { root-&amp;gt;nxt[i]-&amp;gt;fail = root; Q.</description></item><item><title>ac自动机模板by Lalatina （hdu 2222）</title><link>https://111qqz.com/2016/08/acby-lalatina-hdu-2222/</link><pubDate>Tue, 16 Aug 2016 08:54:53 +0000</pubDate><guid>https://111qqz.com/2016/08/acby-lalatina-hdu-2222/</guid><description>
orzorz 日常%学弟 华科的未来orz
#include &amp;lt;cstdio&amp;gt; #include &amp;lt;cstring&amp;gt; using namespace std; struct tnode { int s; tnode *f, *w, *c[26]; } T[5000000], *Q[5000000]; int C; inline tnode *tnew() { memset(T + C, 0, sizeof(tnode)); return T + C++; } inline void AcaInsert(tnode *p, const char *s) { while (*s) { int u = *s - 'a'; if (!p-&amp;gt;c[u]) p-&amp;gt;c[u] = tnew(); p = p-&amp;gt;c[u]; ++s; } ++p-&amp;gt;s; } inline void AcaBuild(tnode *p) { p-&amp;gt;f = p-&amp;gt;w = p; int ql = 0; for (int i = 0; i &amp;lt; 26; ++i) if (p-&amp;gt;c[i]) { p-&amp;gt;c[i]-&amp;gt;f = p-&amp;gt;c[i]-&amp;gt;w = p; Q[ql++] = p-&amp;gt;c[i]; } for (int qf = 0; qf &amp;lt; ql; ++qf) for (int i = 0; i &amp;lt; 26; ++i) if (Q[qf]-&amp;gt;c[i]) { tnode *f = Q[qf]-&amp;gt;f; while (f !</description></item><item><title>hdu 2222 Keywords Search (ac自动机模板题（静态数组写法+动态指针写法）)</title><link>https://111qqz.com/2016/08/hdu-2222/</link><pubDate>Tue, 16 Aug 2016 07:12:36 +0000</pubDate><guid>https://111qqz.com/2016/08/hdu-2222/</guid><description>
hdu 2222 题目链接
题意：给出n个模式串，一个文本串，问文本串中出现了多少各模式串。
思路：ac自动机裸题。代码风格来自bin神。静态数组的写法。
需要理解 在build fail的时候，先单独处理root的必要性。
/* *********************************************** Author :111qqz Created Time :2016年08月16日 星期二 06时00分48秒 File Name :code/hdu/2222.cpp ************************************************ */ #include &amp;lt;cstdio&amp;gt; #include &amp;lt;cstring&amp;gt; #include &amp;lt;iostream&amp;gt; #include &amp;lt;algorithm&amp;gt; #include &amp;lt;vector&amp;gt; #include &amp;lt;queue&amp;gt; #include &amp;lt;stack&amp;gt; #include &amp;lt;set&amp;gt; #include &amp;lt;map&amp;gt; #include &amp;lt;string&amp;gt; #include &amp;lt;cmath&amp;gt; #include &amp;lt;cstdlib&amp;gt; #include &amp;lt;deque&amp;gt; #include &amp;lt;ctime&amp;gt; #define fst first #define sec second #define lson l,m,rt&amp;lt;&amp;lt;1 #define rson m+1,r,rt&amp;lt;&amp;lt;1|1 #define ms(a,x) memset(a,x,sizeof(a)) typedef long long LL; #define pi pair &amp;lt; int ,int &amp;gt; #define MP make_pair using namespace std; const double eps = 1E-8; const int dx4[4]={1,0,0,-1}; const int dy4[4]={0,-1,1,0}; const int inf = 0x3f3f3f3f; const int N = 5E5+7; int n; struct Trie { int nxt[N][26],fail[N],end[N]; int root,L; int newnode() { for ( int i = 0 ; i &amp;lt; 26 ; i++) nxt[L][i]=-1; end[L++] = 0 ; return L-1; } void init() { L = 0 ; root = newnode(); } void Insert(char *s) { int len = strlen(s); int u = root; for ( int i = 0 ; i &amp;lt; len ; i++) { int v = s[i]-'a'; if (nxt[u][v]==-1) nxt[u][v] = newnode(); u = nxt[u][v]; } end[u]++; } void Getfail() { queue&amp;lt;int&amp;gt;Q; fail[root] = root; for ( int i = 0 ; i &amp;lt; 26 ; i++) if (nxt[root][i]==-1) nxt[root][i] = root; else { fail[nxt[root][i]] = root; Q.</description></item><item><title>ac自动机学习笔记</title><link>https://111qqz.com/2016/08/ac/</link><pubDate>Mon, 15 Aug 2016 21:43:49 +0000</pubDate><guid>https://111qqz.com/2016/08/ac/</guid><description>
老规矩，先放资料： 参考资料1 参考资料2 参考资料3
（其实这些资料我都没怎么看。。。。因为感觉。。。理解起来非常容易的样子orz）
我的理解：感觉这东西如果明白了kmp和trie，理解起来就完全没难度。。。
感觉就是在trie上做kmp...？
nxt数组换个名字叫fail。。。。其实是一样的东西吧。。。？
来来来，先干一波题再回来总结。。。
感觉暴力匹配相对于kmp（都是线性单模式串），就好像trie相对于ac自动机（都是树上多模式串）
另一个方向：暴力相对于trie，（都是暴力）就好像kmp相对于ac自动机（都是经过失配优化）
ac自动机的题目里这么多和dp结合在一起让我怎么做啊orz...
以及感觉。。。ac自动机的水平可以通过多写trie来提高2333。
区域赛之前再刷一波trie...
是时候干掉线段树了。。。</description></item></channel></rss>