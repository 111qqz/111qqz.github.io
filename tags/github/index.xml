<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>github on 111qqz的小窝</title><link>http://example.org/tags/github/</link><description>Recent content in github on 111qqz的小窝</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 23 Jan 2021 17:08:00 +0800</lastBuildDate><atom:link href="http://example.org/tags/github/index.xml" rel="self" type="application/rss+xml"/><item><title>使用github actions来部署 github pages</title><link>http://example.org/2020/01/using-github-actions-to-deploy-gh-pages/</link><pubDate>Sat, 23 Jan 2021 17:08:00 +0800</pubDate><guid>http://example.org/2020/01/using-github-actions-to-deploy-gh-pages/</guid><description>目前我的博客是部署在github pages上，源码是一个repo,渲染出来的静态页面是一个repo. 更新的时候是把后者作为前者的submodule. 感觉这种方式有些落后了，简直和某司内部的平台有的一比。因此尝试采用了下github actions，来自动化这个部署的流程。
build github pages 其实类似gitlab ci. 最开始我以为需要自己配置服务器，结果发现并不需要，直接用公用的就可以。 详细内容可以阅读github actions
遇到的主要问题其实是，在一个repo的github actions的pipeline 里推送到另外一个repo提示一些权限方面的错误。 解决的办法是配置下ssh key. 假设源码的repo称为A,渲染得到的静态页面的repo称为B 那么先生成一对ssh-key 然后在 A里，settings-&amp;gt;secrets 添加一个secret,名称为&amp;quot;ACTIONS_DEPLOY_KEY&amp;rdquo;，内容为private key的内容 然后在B里，settings-&amp;gt;deploy keys, 添加一个key,名称无所谓，内容为public key的内容
这样每次push到源码的repo A,就可以自动触发github actions,将静态页面推送到repo B.然后repo B 自动触发github pages机制
附一个github actions的配置文件
# This is a basic workflow to help you get started with Actions name: CI # Controls when the action will run. on: # Triggers the workflow on push or pull request events but only for the master branch push: branches: [ master ] pull_request: branches: [ master ] # Allows you to run this workflow manually from the Actions tab workflow_dispatch: # A workflow run is made up of one or more jobs that can run sequentially or in parallel jobs: # This workflow contains a single job called &amp;#34;build&amp;#34; build: # The type of runner that the job will run on runs-on: ubuntu-18.</description></item></channel></rss>